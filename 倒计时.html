<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>倒计时</title>
</head>

<body onload="countTime()">
    <!-- <div id="timer" style="color:red"></div>
    <div id="warring" style="color:red"></div> -->
    <div>
        <span id="_d">00</span>
        <span id="_h">00</span>
        <span id="_m">00</span>
        <span id="_s">00</span>
    </div>
    <script>
        // var maxtime = 3600; //一个小时，按秒计算，自己调整!   
        // function CountDown() {
        //     if (maxtime >= 0) {
        //         hours = Math.floor(maxtime / 60 / 60);
        //         minutes = Math.floor(maxtime / 60 % 60);
        //         seconds = Math.floor(maxtime % 60);
        //         msg = "距离结束还有" + hours + "小时" + minutes + "分" + seconds + "秒";
        //         document.all["timer"].innerHTML = msg;
        //         if (maxtime == 5 * 60) alert("还剩5分钟");
        //         --maxtime; //每秒减1
        //     } else {
        //         clearInterval(timer);
        //         alert("时间到，结束!");
        //     }
        // }
        // timer = setInterval("CountDown()", 1000);

        function countTime() {
            var date = new Date() //Mon Nov 26 2018 20:56:27 GMT+0800 (中国标准时间)
            var now = date.getTime() //返回从 1970 年 1 月 1 日至date的毫秒数
            var str = "2019/1/1 00:00:00"; //截止时间
            var endDate = new Date(str)
            var end = endDate.getTime()
            var leftTime = (end - now) / 1000; //ms
            var d, h, m, s
            if (leftTime > 0) {
                d = Math.floor(leftTime / 24 / 60 / 60)
                h = Math.floor(leftTime / 60 / 60 % 24)
                m = Math.floor(leftTime / 60 % 60)
                s = Math.floor(leftTime % 60)
            }
            //将倒计时赋值到div中  
            document.getElementById("_d").innerHTML = d + "天";
            document.getElementById("_h").innerHTML = h + "时";
            document.getElementById("_m").innerHTML = m + "分";
            document.getElementById("_s").innerHTML = s + "秒";
            //递归每秒调用countTime方法，显示动态时间效果  
            setTimeout(countTime,1000)
        }
    </script>
</body>

</html>